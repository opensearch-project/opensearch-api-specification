$schema: ../../../../../json_schemas/test_story.schema.yaml

description: Test cluster stats.
chapters:
  - synopsis: Returns statistics about a cluster.
    path: /_cluster/stats/{metric}/nodes/{node_id}
    parameters:
      metric:
        - plugins
      node_id: _cluster_manager
    method: GET
    response:
      status: 200
      payload:
        nodes:
          plugins:
            - name: opensearch-cross-cluster-replication
              version: "2.19.0.0"
              opensearch_version: "2.19.0"
              java_version: "11"
              description: OpenSearch Cross Cluster Replication Plugin
              classname: org.opensearch.replication.ReplicationPlugin
              custom_foldername: ""
              extended_plugins: []
              has_native_controller: false
              optional_extended_plugins: []
            - name: opensearch-custom-codecs
              version: "2.19.0.0"
              opensearch_version: "2.19.0"
              java_version: "11"
              description: OpenSearch plugin that implements custom compression codecs
              classname: org.opensearch.index.codec.customcodecs.CustomCodecPlugin
              custom_foldername: ""
              extended_plugins: []
              has_native_controller: false
              optional_extended_plugins: []
            - name: opensearch-reports-scheduler
              version: "2.19.0.0"
              opensearch_version: "2.19.0"
              java_version: "11"
              description: Scheduler for Dashboards Reports Plugin
              classname: org.opensearch.reportsscheduler.ReportsSchedulerPlugin
              custom_foldername: ""
              extended_plugins:
                - opensearch-job-scheduler
              has_native_controller: false
              optional_extended_plugins: []
            - name: analysis-phonenumber
              version: "2.19.0"
              opensearch_version: "2.19.0"
              java_version: "11"
              description: "Adds an analyzer for phone numbers to OpenSearch."
              classname: org.opensearch.analysis.phone.PhoneNumberAnalysisPlugin
              custom_foldername: ""
              extended_plugins: []
              has_native_controller: false
              optional_extended_plugins: []
            - name: opensearch-alerting
              version: "2.19.0.0"
              opensearch_version: "2.19.0"
              java_version: "11"
              description: Amazon OpenSearch alerting plugin
              classname: org.opensearch.alerting.AlertingPlugin
              custom_foldername: ""
              extended_plugins:
                - lang-painless
              has_native_controller: false
              optional_extended_plugins: []
            - name: analysis-icu
              version: "2.19.0"
              opensearch_version: "2.19.0"
              java_version: "11"
              description: "The ICU Analysis plugin integrates the Lucene ICU module into OpenSearch, adding ICU-related analysis components."
              classname: org.opensearch.plugin.analysis.icu.AnalysisICUPlugin
              custom_foldername: ""
              extended_plugins: []
              has_native_controller: false
              optional_extended_plugins: []
            - name: opensearch-anomaly-detection
              version: "2.19.0.0"
              opensearch_version: "2.19.0"
              java_version: "11"
              description: OpenSearch anomaly detector plugin
              classname: org.opensearch.timeseries.TimeSeriesAnalyticsPlugin
              custom_foldername: ""
              extended_plugins:
                - lang-painless
                - opensearch-job-scheduler
              has_native_controller: false
              optional_extended_plugins: []
            - name: opensearch-geospatial
              version: "2.19.0.0"
              opensearch_version: "2.19.0"
              java_version: "11"
              description: OpenSearch Geospatial plugin to host geospatial features
              classname: org.opensearch.geospatial.plugin.GeospatialPlugin
              custom_foldername: ""
              extended_plugins:
                - opensearch-job-scheduler
              has_native_controller: false
              optional_extended_plugins: []
            - name: opensearch-system-templates
              version: "2.19.0.0"
              opensearch_version: "2.19.0"
              java_version: "11"
              description: OpenSearch plugin that provides basic application based configuration templates.
              classname: org.opensearch.system.applicationtemplates.ApplicationBasedConfigurationSystemTemplatesPlugin
              custom_foldername: ""
              extended_plugins: []
              has_native_controller: false
              optional_extended_plugins: []
            - name: opensearch-performance-analyzer
              version: "2.19.0.0"
              opensearch_version: "2.19.0"
              java_version: "11"
              description: OpenSearch Performance Analyzer Plugin
              classname: org.opensearch.performanceanalyzer.PerformanceAnalyzerPlugin
              custom_foldername: ""
              extended_plugins: []
              has_native_controller: false
              optional_extended_plugins: []
            - name: opensearch-ml
              version: "2.19.0.0"
              opensearch_version: "2.19.0"
              java_version: "11"
              description: machine learning plugin for opensearch
              classname: org.opensearch.ml.plugin.MachineLearningPlugin
              custom_foldername: ""
              extended_plugins:
                - opensearch-job-scheduler
              has_native_controller: false
              optional_extended_plugins: []
            - name: opensearch-asynchronous-search
              version: "2.19.0.0"
              opensearch_version: "2.19.0"
              java_version: "11"
              description: Provides support for asynchronous search
              classname: org.opensearch.search.asynchronous.plugin.AsynchronousSearchPlugin
              custom_foldername: ""
              extended_plugins: []
              has_native_controller: false
              optional_extended_plugins: []
            - name: opensearch-skills
              version: "2.19.0.0"
              opensearch_version: "2.19.0"
              java_version: "11"
              description: OpenSearch Skills
              classname: org.opensearch.agent.ToolPlugin
              custom_foldername: ""
              extended_plugins:
                - opensearch-ml
              has_native_controller: false
              optional_extended_plugins: []
            - name: opensearch-sql
              version: "2.19.0.0"
              opensearch_version: "2.19.0"
              java_version: "11"
              description: OpenSearch SQL
              classname: org.opensearch.sql.plugin.SQLPlugin
              custom_foldername: ""
              extended_plugins:
                - opensearch-job-scheduler
              has_native_controller: false
              optional_extended_plugins: []
            - name: opensearch-notifications
              version: "2.19.0.0"
              opensearch_version: "2.19.0"
              java_version: "11"
              description: OpenSearch Notifications Plugin
              classname: org.opensearch.notifications.NotificationPlugin
              custom_foldername: ""
              extended_plugins:
                - opensearch-notifications-core
              has_native_controller: false
              optional_extended_plugins: []
            - name: opensearch-ltr
              version: "2.19.0.0"
              opensearch_version: "2.19.0"
              java_version: "11"
              description: Learning to Rank Query w/ RankLib Models
              classname: com.o19s.es.ltr.LtrQueryParserPlugin
              custom_foldername: ""
              extended_plugins: []
              has_native_controller: false
              optional_extended_plugins: []
            - name: opensearch-neural-search
              version: "2.19.0.0"
              opensearch_version: "2.19.0"
              java_version: "11"
              description: A plugin that adds dense neural retrieval into the OpenSearch ecosytem
              classname: org.opensearch.neuralsearch.plugin.NeuralSearch
              custom_foldername: ""
              extended_plugins:
                - opensearch-knn
              has_native_controller: false
              optional_extended_plugins: []
            - name: opensearch-security
              version: "2.19.0.0"
              opensearch_version: "2.19.0"
              java_version: "11"
              description: Provide access control related features for OpenSearch
              classname: org.opensearch.security.OpenSearchSecurityPlugin
              custom_foldername: ""
              extended_plugins: []
              has_native_controller: false
              optional_extended_plugins: []
            - name: opensearch-flow-framework
              version: "2.19.0.0"
              opensearch_version: "2.19.0"
              java_version: "11"
              description: OpenSearch plugin that enables builders to innovate AI apps on OpenSearch
              classname: org.opensearch.flowframework.FlowFrameworkPlugin
              custom_foldername: ""
              extended_plugins: []
              has_native_controller: false
              optional_extended_plugins: []
            - name: opensearch-index-management
              version: "2.19.0.0"
              opensearch_version: "2.19.0"
              java_version: "11"
              description: OpenSearch Index Management Plugin
              classname: org.opensearch.indexmanagement.IndexManagementPlugin
              custom_foldername: ""
              extended_plugins:
                - opensearch-job-scheduler
              has_native_controller: false
              optional_extended_plugins: []
            - name: query-insights
              version: "2.19.0.0"
              opensearch_version: "2.19.0"
              java_version: "11"
              description: OpenSearch Query Insights plugin
              classname: org.opensearch.plugin.insights.QueryInsightsPlugin
              custom_foldername: ""
              extended_plugins: []
              has_native_controller: false
              optional_extended_plugins: []
            - name: opensearch-job-scheduler
              version: "2.19.0.0"
              opensearch_version: "2.19.0"
              java_version: "11"
              description: OpenSearch Job Scheduler plugin
              classname: org.opensearch.jobscheduler.JobSchedulerPlugin
              custom_foldername: ""
              extended_plugins: []
              has_native_controller: false
              optional_extended_plugins: []
            - name: opensearch-notifications-core
              version: "2.19.0.0"
              opensearch_version: "2.19.0"
              java_version: "11"
              description: OpenSearch Notifications Core Plugin
              classname: org.opensearch.notifications.core.NotificationCorePlugin
              custom_foldername: ""
              extended_plugins: []
              has_native_controller: false
              optional_extended_plugins: []
            - name: opensearch-knn
              version: "2.19.0.0"
              opensearch_version: "2.19.0"
              java_version: "11"
              description: OpenSearch k-NN plugin
              classname: org.opensearch.knn.plugin.KNNPlugin
              custom_foldername: ""
              extended_plugins:
                - lang-painless
              has_native_controller: false
              optional_extended_plugins: []
            - name: opensearch-observability
              version: "2.19.0.0"
              opensearch_version: "2.19.0"
              java_version: "11"
              description: OpenSearch Plugin for OpenSearch Dashboards Observability
              classname: org.opensearch.observability.ObservabilityPlugin
              custom_foldername: ""
              extended_plugins: []
              has_native_controller: false
              optional_extended_plugins: []
            - name: opensearch-security-analytics
              version: "2.19.0.0"
              opensearch_version: "2.19.0"
              java_version: "11"
              description: OpenSearch Security Analytics plugin
              classname: org.opensearch.securityanalytics.SecurityAnalyticsPlugin
              custom_foldername: ""
              extended_plugins:
                - opensearch-job-scheduler
                - opensearch-alerting
              has_native_controller: false
              optional_extended_plugins: []
