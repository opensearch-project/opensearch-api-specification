openapi: 3.1.0
info:
  title: OpenSearch Cluster API
  description: OpenSearch Cluster API
  version: 1.0.0
paths:
  /_cluster/allocation/explain:
    get:
      description: Provides explanations for shard allocations in the cluster.
      externalDocs:
        description: API Reference
        url: https://opensearch.org/docs/latest/api-reference/cluster-api/cluster-allocation/
      operationId: ClusterAllocationExplain_Get
      parameters:
        - $ref: '#/components/parameters/cluster.allocation_explain#include_yes_decisions'
        - $ref: '#/components/parameters/cluster.allocation_explain#include_disk_info'
      responses:
        '200':
          $ref: '#/components/responses/cluster.allocation_explain#200'
      x-operation-group: cluster.allocation_explain
      x-version-added: '1.0'
      requestBody:
        $ref: '#/components/requestBodies/cluster.allocation_explain'
    post:
      description: Provides explanations for shard allocations in the cluster.
      operationId: ClusterAllocationExplain_Post
      requestBody:
        $ref: '#/components/requestBodies/cluster.allocation_explain'
      parameters:
        - $ref: '#/components/parameters/cluster.allocation_explain#include_yes_decisions'
        - $ref: '#/components/parameters/cluster.allocation_explain#include_disk_info'
      responses:
        '200':
          $ref: '#/components/responses/cluster.allocation_explain#200'
      x-operation-group: cluster.allocation_explain
      x-version-added: '1.0'
  /_cluster/decommission/awareness:
    delete:
      description: Delete any existing decommission.
      externalDocs:
        description: API Reference
        url: https://opensearch.org/docs/latest/api-reference/cluster-api/cluster-decommission/#example-decommissioning-and-recommissioning-a-zone
      operationId: ClusterDeleteDecommissionAwareness
      responses:
        '200':
          description: ClusterDeleteDecommissionAwareness 200 response
      x-operation-group: cluster.delete_decommission_awareness
      x-version-added: '1.0'
  /_cluster/decommission/awareness/{awareness_attribute_name}/_status:
    get:
      description: Get details and status of decommissioned attribute.
      externalDocs:
        description: API Reference
        url: https://opensearch.org/docs/latest/api-reference/cluster-api/cluster-decommission/#example-getting-zone-decommission-status
      operationId: ClusterGetDecommissionAwareness
      parameters:
        - name: awareness_attribute_name
          in: path
          description: Awareness attribute name.
          schema:
            type: string
            pattern: ^(?!_|template|query|field|point|clear|usage|stats|hot|reload|painless).+$
            description: Awareness attribute name.
          required: true
      responses:
        '200':
          description: ClusterGetDecommissionAwareness 200 response
      x-operation-group: cluster.get_decommission_awareness
      x-version-added: '1.0'
  /_cluster/decommission/awareness/{awareness_attribute_name}/{awareness_attribute_value}:
    put:
      description: Decommissions an awareness attribute.
      externalDocs:
        description: API Reference
        url: https://opensearch.org/docs/latest/api-reference/cluster-api/cluster-decommission/#example-decommissioning-and-recommissioning-a-zone
      operationId: ClusterPutDecommissionAwareness
      parameters:
        - name: awareness_attribute_name
          in: path
          description: Awareness attribute name.
          schema:
            type: string
            pattern: ^(?!_|template|query|field|point|clear|usage|stats|hot|reload|painless).+$
            description: Awareness attribute name.
          required: true
        - name: awareness_attribute_value
          in: path
          description: Awareness attribute value.
          schema:
            type: string
            pattern: ^(?!_|template|query|field|point|clear|usage|stats|hot|reload|painless).+$
            description: Awareness attribute value.
          required: true
      responses:
        '200':
          description: ClusterPutDecommissionAwareness 200 response
      x-operation-group: cluster.put_decommission_awareness
      x-version-added: '1.0'
  /_cluster/health:
    get:
      description: Returns basic information about the health of the cluster.
      externalDocs:
        description: API Reference
        url: https://opensearch.org/docs/latest/api-reference/cluster-api/cluster-health/
      operationId: ClusterHealth
      parameters:
        - $ref: '#/components/parameters/cluster.health#expand_wildcards'
        - $ref: '#/components/parameters/cluster.health#level'
        - $ref: '#/components/parameters/cluster.health#local'
        - $ref: '#/components/parameters/cluster.health#master_timeout'
        - name: cluster_manager_timeout
          in: query
          description: Operation timeout for connection to cluster-manager node.
          schema:
            $ref: '../schemas/_common.yaml#/components/schemas/Duration'
          x-version-added: 2.0.0
        - $ref: '#/components/parameters/cluster.health#timeout'
        - $ref: '#/components/parameters/cluster.health#wait_for_active_shards'
        - $ref: '#/components/parameters/cluster.health#wait_for_nodes'
        - $ref: '#/components/parameters/cluster.health#wait_for_events'
        - $ref: '#/components/parameters/cluster.health#wait_for_no_relocating_shards'
        - $ref: '#/components/parameters/cluster.health#wait_for_no_initializing_shards'
        - $ref: '#/components/parameters/cluster.health#wait_for_status'
        - name: awareness_attribute
          in: query
          description: The awareness attribute for which the health is required.
          schema:
            type: string
            description: The awareness attribute for which the health is required.
      responses:
        '200':
          $ref: '#/components/responses/cluster.health#200'
      x-operation-group: cluster.health
      x-version-added: '1.0'
  /_cluster/health/{index}:
    get:
      description: Returns basic information about the health of the cluster.
      operationId: ClusterHealth_WithIndex
      parameters:
        - $ref: '#/components/parameters/cluster.health#index'
        - $ref: '#/components/parameters/cluster.health#expand_wildcards'
        - $ref: '#/components/parameters/cluster.health#level'
        - $ref: '#/components/parameters/cluster.health#local'
        - $ref: '#/components/parameters/cluster.health#master_timeout'
        - name: cluster_manager_timeout
          in: query
          description: Operation timeout for connection to cluster-manager node.
          schema:
            $ref: '../schemas/_common.yaml#/components/schemas/Duration'
          x-version-added: 2.0.0
        - $ref: '#/components/parameters/cluster.health#timeout'
        - $ref: '#/components/parameters/cluster.health#wait_for_active_shards'
        - $ref: '#/components/parameters/cluster.health#wait_for_nodes'
        - $ref: '#/components/parameters/cluster.health#wait_for_events'
        - $ref: '#/components/parameters/cluster.health#wait_for_no_relocating_shards'
        - $ref: '#/components/parameters/cluster.health#wait_for_no_initializing_shards'
        - $ref: '#/components/parameters/cluster.health#wait_for_status'
        - name: awareness_attribute
          in: query
          description: The awareness attribute for which the health is required.
          schema:
            type: string
            description: The awareness attribute for which the health is required.
      responses:
        '200':
          $ref: '#/components/responses/cluster.health#200'
      x-operation-group: cluster.health
      x-version-added: '1.0'
  /_cluster/pending_tasks:
    get:
      description: |-
        Returns a list of any cluster-level changes (e.g. create index, update mapping,
        allocate or fail shard) which have not yet been executed.
      externalDocs:
        description: API Reference
        url: https://opensearch.org/docs/latest
      operationId: ClusterPendingTasks
      parameters:
        - in: query
          name: local
          description: |-
            If `true`, the request retrieves information from the local node only.
            If `false`, information is retrieved from the master node.
          deprecated: false
          schema:
            type: boolean
          style: form
        - in: query
          name: master_timeout
          description: |-
            Period to wait for a connection to the master node.
            If no response is received before the timeout expires, the request fails and returns an error.
          deprecated: true
          schema:
            $ref: '../schemas/_common.yaml#/components/schemas/Duration'
          style: form
          x-version-deprecated: 2.0.0
          x-deprecation-message: To promote inclusive language, use 'cluster_manager_timeout' instead.
        - name: cluster_manager_timeout
          in: query
          description: Operation timeout for connection to cluster-manager node.
          schema:
            $ref: '../schemas/_common.yaml#/components/schemas/Duration'
          x-version-added: 2.0.0
      responses:
        '200':
          $ref: '#/components/responses/cluster.pending_tasks#200'
      x-operation-group: cluster.pending_tasks
      x-version-added: '1.0'
  /_cluster/reroute:
    post:
      description: Allows to manually change the allocation of individual shards in the cluster.
      externalDocs:
        description: API Reference
        url: https://opensearch.org/docs/latest
      operationId: ClusterReroute
      requestBody:
        $ref: '#/components/requestBodies/cluster.reroute'
      parameters:
        - in: query
          name: dry_run
          description: If true, then the request simulates the operation only and returns the resulting state.
          deprecated: false
          schema:
            type: boolean
          style: form
        - in: query
          name: explain
          description: If true, then the response contains an explanation of why the commands can or cannot be executed.
          deprecated: false
          schema:
            type: boolean
          style: form
        - in: query
          name: retry_failed
          description: If true, then retries allocation of shards that are blocked due to too many subsequent allocation failures.
          deprecated: false
          schema:
            type: boolean
          style: form
        - in: query
          name: metric
          description: Limits the information returned to the specified metrics.
          deprecated: false
          schema:
            $ref: '../schemas/_common.yaml#/components/schemas/Metrics'
          style: form
        - in: query
          name: master_timeout
          description: Period to wait for a connection to the master node. If no response is received before the timeout expires,
            the request fails and returns an error.
          deprecated: true
          schema:
            $ref: '../schemas/_common.yaml#/components/schemas/Duration'
          style: form
          x-version-deprecated: 2.0.0
          x-deprecation-message: To promote inclusive language, use 'cluster_manager_timeout' instead.
        - name: cluster_manager_timeout
          in: query
          description: Operation timeout for connection to cluster-manager node.
          schema:
            $ref: '../schemas/_common.yaml#/components/schemas/Duration'
          x-version-added: 2.0.0
        - in: query
          name: timeout
          description: Period to wait for a response. If no response is received before the timeout expires, the request fails and
            returns an error.
          deprecated: false
          schema:
            $ref: '../schemas/_common.yaml#/components/schemas/Duration'
          style: form
      responses:
        '200':
          $ref: '#/components/responses/cluster.reroute#200'
      x-operation-group: cluster.reroute
      x-version-added: '1.0'
  /_cluster/routing/awareness/weights:
    delete:
      description: Delete weighted shard routing weights.
      externalDocs:
        description: API Reference
        url: https://opensearch.org/docs/latest/api-reference/cluster-api/cluster-awareness/#example-deleting-weights
      operationId: ClusterDeleteWeightedRouting
      responses:
        '200':
          description: ClusterDeleteWeightedRouting 200 response
      x-operation-group: cluster.delete_weighted_routing
      x-version-added: '1.0'
  /_cluster/routing/awareness/{attribute}/weights:
    get:
      description: Fetches weighted shard routing weights.
      externalDocs:
        description: API Reference
        url: https://opensearch.org/docs/latest/api-reference/cluster-api/cluster-awareness/#example-getting-weights-for-all-zones
      operationId: ClusterGetWeightedRouting
      parameters:
        - name: attribute
          in: path
          description: Awareness attribute name.
          schema:
            type: string
            pattern: ^(?!_|template|query|field|point|clear|usage|stats|hot|reload|painless).+$
            description: Awareness attribute name.
          required: true
      responses:
        '200':
          description: ClusterGetWeightedRouting 200 response
      x-operation-group: cluster.get_weighted_routing
      x-version-added: '1.0'
    put:
      description: Updates weighted shard routing weights.
      externalDocs:
        description: API Reference
        url: https://opensearch.org/docs/latest/api-reference/cluster-api/cluster-awareness/#example-weighted-round-robin-search
      operationId: ClusterPutWeightedRouting
      parameters:
        - name: attribute
          in: path
          description: Awareness attribute name.
          schema:
            type: string
            pattern: ^(?!_|template|query|field|point|clear|usage|stats|hot|reload|painless).+$
            description: Awareness attribute name.
          required: true
      responses:
        '200':
          description: ClusterPutWeightedRouting 200 response
      x-operation-group: cluster.put_weighted_routing
      x-version-added: '1.0'
  /_cluster/settings:
    get:
      description: Returns cluster settings.
      externalDocs:
        description: API Reference
        url: https://opensearch.org/docs/latest/api-reference/cluster-api/cluster-settings/
      operationId: ClusterGetSettings
      parameters:
        - in: query
          name: flat_settings
          description: If `true`, returns settings in flat format.
          deprecated: false
          schema:
            type: boolean
          style: form
        - in: query
          name: master_timeout
          description: |-
            Period to wait for a connection to the master node.
            If no response is received before the timeout expires, the request fails and returns an error.
          deprecated: true
          schema:
            $ref: '../schemas/_common.yaml#/components/schemas/Duration'
          style: form
          x-version-deprecated: 2.0.0
          x-deprecation-message: To promote inclusive language, use 'cluster_manager_timeout' instead.
        - name: cluster_manager_timeout
          in: query
          description: Operation timeout for connection to cluster-manager node.
          schema:
            $ref: '../schemas/_common.yaml#/components/schemas/Duration'
          x-version-added: 2.0.0
        - in: query
          name: timeout
          description: |-
            Period to wait for a response.
            If no response is received before the timeout expires, the request fails and returns an error.
          deprecated: false
          schema:
            $ref: '../schemas/_common.yaml#/components/schemas/Duration'
          style: form
        - in: query
          name: include_defaults
          description: If `true`, returns default cluster settings from the local node.
          deprecated: false
          schema:
            type: boolean
          style: form
      responses:
        '200':
          $ref: '#/components/responses/cluster.get_settings#200'
      x-operation-group: cluster.get_settings
      x-version-added: '1.0'
    put:
      description: Updates the cluster settings.
      externalDocs:
        description: API Reference
        url: https://opensearch.org/docs/latest/api-reference/cluster-settings/
      operationId: ClusterPutSettings
      requestBody:
        $ref: '#/components/requestBodies/cluster.put_settings'
      parameters:
        - in: query
          name: flat_settings
          description: 'Return settings in flat format (default: false)'
          deprecated: false
          schema:
            type: boolean
          style: form
        - in: query
          name: master_timeout
          description: Explicit operation timeout for connection to master node
          deprecated: true
          schema:
            $ref: '../schemas/_common.yaml#/components/schemas/Duration'
          style: form
          x-version-deprecated: 2.0.0
          x-deprecation-message: To promote inclusive language, use 'cluster_manager_timeout' instead.
        - name: cluster_manager_timeout
          in: query
          description: Operation timeout for connection to cluster-manager node.
          schema:
            $ref: '../schemas/_common.yaml#/components/schemas/Duration'
          x-version-added: 2.0.0
        - in: query
          name: timeout
          description: Explicit operation timeout
          deprecated: false
          schema:
            $ref: '../schemas/_common.yaml#/components/schemas/Duration'
          style: form
      responses:
        '200':
          $ref: '#/components/responses/cluster.put_settings#200'
      x-operation-group: cluster.put_settings
      x-version-added: '1.0'
  /_cluster/state:
    get:
      description: Returns a comprehensive information about the state of the cluster.
      externalDocs:
        description: API Reference
        url: https://opensearch.org/docs/latest
      operationId: ClusterState
      parameters:
        - $ref: '#/components/parameters/cluster.state#local'
        - $ref: '#/components/parameters/cluster.state#master_timeout'
        - name: cluster_manager_timeout
          in: query
          description: Operation timeout for connection to cluster-manager node.
          schema:
            $ref: '../schemas/_common.yaml#/components/schemas/Duration'
          x-version-added: 2.0.0
        - $ref: '#/components/parameters/cluster.state#flat_settings'
        - $ref: '#/components/parameters/cluster.state#wait_for_metadata_version'
        - $ref: '#/components/parameters/cluster.state#wait_for_timeout'
        - $ref: '#/components/parameters/cluster.state#ignore_unavailable'
        - $ref: '#/components/parameters/cluster.state#allow_no_indices'
        - $ref: '#/components/parameters/cluster.state#expand_wildcards'
      responses:
        '200':
          $ref: '#/components/responses/cluster.state#200'
      x-operation-group: cluster.state
      x-version-added: '1.0'
  /_cluster/state/{metric}:
    get:
      description: Returns a comprehensive information about the state of the cluster.
      operationId: ClusterState_WithMetric
      parameters:
        - $ref: '#/components/parameters/cluster.state#metric'
        - $ref: '#/components/parameters/cluster.state#local'
        - $ref: '#/components/parameters/cluster.state#master_timeout'
        - name: cluster_manager_timeout
          in: query
          description: Operation timeout for connection to cluster-manager node.
          schema:
            $ref: '../schemas/_common.yaml#/components/schemas/Duration'
          x-version-added: 2.0.0
        - $ref: '#/components/parameters/cluster.state#flat_settings'
        - $ref: '#/components/parameters/cluster.state#wait_for_metadata_version'
        - $ref: '#/components/parameters/cluster.state#wait_for_timeout'
        - $ref: '#/components/parameters/cluster.state#ignore_unavailable'
        - $ref: '#/components/parameters/cluster.state#allow_no_indices'
        - $ref: '#/components/parameters/cluster.state#expand_wildcards'
      responses:
        '200':
          $ref: '#/components/responses/cluster.state#200'
      x-operation-group: cluster.state
      x-version-added: '1.0'
  /_cluster/state/{metric}/{index}:
    get:
      description: Returns a comprehensive information about the state of the cluster.
      operationId: ClusterState_WithIndexMetric
      parameters:
        - $ref: '#/components/parameters/cluster.state#index'
        - $ref: '#/components/parameters/cluster.state#metric'
        - $ref: '#/components/parameters/cluster.state#local'
        - $ref: '#/components/parameters/cluster.state#master_timeout'
        - name: cluster_manager_timeout
          in: query
          description: Operation timeout for connection to cluster-manager node.
          schema:
            $ref: '../schemas/_common.yaml#/components/schemas/Duration'
          x-version-added: 2.0.0
        - $ref: '#/components/parameters/cluster.state#flat_settings'
        - $ref: '#/components/parameters/cluster.state#wait_for_metadata_version'
        - $ref: '#/components/parameters/cluster.state#wait_for_timeout'
        - $ref: '#/components/parameters/cluster.state#ignore_unavailable'
        - $ref: '#/components/parameters/cluster.state#allow_no_indices'
        - $ref: '#/components/parameters/cluster.state#expand_wildcards'
      responses:
        '200':
          $ref: '#/components/responses/cluster.state#200'
      x-operation-group: cluster.state
      x-version-added: '1.0'
  /_cluster/stats:
    get:
      description: Returns high-level overview of cluster statistics.
      externalDocs:
        description: API Reference
        url: https://opensearch.org/docs/latest/api-reference/cluster-api/cluster-stats/
      operationId: ClusterStats
      parameters:
        - $ref: '#/components/parameters/cluster.stats#flat_settings'
        - $ref: '#/components/parameters/cluster.stats#timeout'
      responses:
        '200':
          $ref: '#/components/responses/cluster.stats#200'
      x-operation-group: cluster.stats
      x-version-added: '1.0'
  /_cluster/stats/nodes/{node_id}:
    get:
      description: Returns high-level overview of cluster statistics.
      operationId: ClusterStats_WithNodeId
      parameters:
        - $ref: '#/components/parameters/cluster.stats#node_id'
        - $ref: '#/components/parameters/cluster.stats#flat_settings'
        - $ref: '#/components/parameters/cluster.stats#timeout'
      responses:
        '200':
          $ref: '#/components/responses/cluster.stats#200'
      x-operation-group: cluster.stats
      x-version-added: '1.0'
  /_cluster/voting_config_exclusions:
    delete:
      description: Clears cluster voting config exclusions.
      externalDocs:
        description: API Reference
        url: https://opensearch.org/docs/latest
      operationId: ClusterDeleteVotingConfigExclusions
      parameters:
        - in: query
          name: wait_for_removal
          description: |-
            Specifies whether to wait for all excluded nodes to be removed from the
            cluster before clearing the voting configuration exclusions list.
            Defaults to true, meaning that all excluded nodes must be removed from
            the cluster before this API takes any action. If set to false then the
            voting configuration exclusions list is cleared even if some excluded
            nodes are still in the cluster.
          deprecated: false
          schema:
            type: boolean
          style: form
      responses:
        '200':
          $ref: '#/components/responses/cluster.delete_voting_config_exclusions#200'
      x-operation-group: cluster.delete_voting_config_exclusions
      x-version-added: '1.0'
    post:
      description: Updates the cluster voting config exclusions by node ids or node names.
      externalDocs:
        description: API Reference
        url: https://opensearch.org/docs/latest
      operationId: ClusterPostVotingConfigExclusions
      parameters:
        - in: query
          name: node_ids
          description: |-
            A comma-separated list of the persistent ids of the nodes to exclude
            from the voting configuration. If specified, you may not also specify node_names.
          deprecated: false
          schema:
            $ref: '../schemas/_common.yaml#/components/schemas/Ids'
          style: form
        - in: query
          name: node_names
          description: |-
            A comma-separated list of the names of the nodes to exclude from the
            voting configuration. If specified, you may not also specify node_ids.
          deprecated: false
          schema:
            $ref: '../schemas/_common.yaml#/components/schemas/Names'
          style: form
        - in: query
          name: timeout
          description: |-
            When adding a voting configuration exclusion, the API waits for the
            specified nodes to be excluded from the voting configuration before
            returning. If the timeout expires before the appropriate condition
            is satisfied, the request fails and returns an error.
          deprecated: false
          schema:
            $ref: '../schemas/_common.yaml#/components/schemas/Duration'
          style: form
      responses:
        '200':
          $ref: '#/components/responses/cluster.post_voting_config_exclusions#200'
      x-operation-group: cluster.post_voting_config_exclusions
      x-version-added: '1.0'
  /_component_template:
    get:
      description: Returns one or more component templates.
      externalDocs:
        description: API Reference
        url: https://opensearch.org/docs/latest
      operationId: ClusterGetComponentTemplate
      parameters:
        - $ref: '#/components/parameters/cluster.get_component_template#master_timeout'
        - name: cluster_manager_timeout
          in: query
          description: Operation timeout for connection to cluster-manager node.
          schema:
            $ref: '../schemas/_common.yaml#/components/schemas/Duration'
          x-version-added: 2.0.0
        - $ref: '#/components/parameters/cluster.get_component_template#local'
      responses:
        '200':
          $ref: '#/components/responses/cluster.get_component_template#200'
      x-operation-group: cluster.get_component_template
      x-version-added: '1.0'
  /_component_template/{name}:
    delete:
      description: Deletes a component template.
      externalDocs:
        description: API Reference
        url: https://opensearch.org/docs/latest
      operationId: ClusterDeleteComponentTemplate
      parameters:
        - in: path
          name: name
          description: Comma-separated list or wildcard expression of component template names used to limit the request.
          required: true
          deprecated: false
          schema:
            $ref: '../schemas/_common.yaml#/components/schemas/Names'
          style: simple
        - in: query
          name: timeout
          description: |-
            Period to wait for a response.
            If no response is received before the timeout expires, the request fails and returns an error.
          deprecated: false
          schema:
            $ref: '../schemas/_common.yaml#/components/schemas/Duration'
          style: form
        - in: query
          name: master_timeout
          description: |-
            Period to wait for a connection to the master node.
            If no response is received before the timeout expires, the request fails and returns an error.
          deprecated: true
          schema:
            $ref: '../schemas/_common.yaml#/components/schemas/Duration'
          style: form
          x-version-deprecated: 2.0.0
          x-deprecation-message: To promote inclusive language, use 'cluster_manager_timeout' instead.
        - name: cluster_manager_timeout
          in: query
          description: Operation timeout for connection to cluster-manager node.
          schema:
            $ref: '../schemas/_common.yaml#/components/schemas/Duration'
          x-version-added: 2.0.0
      responses:
        '200':
          $ref: '#/components/responses/cluster.delete_component_template#200'
      x-operation-group: cluster.delete_component_template
      x-version-added: '1.0'
    get:
      description: Returns one or more component templates.
      operationId: ClusterGetComponentTemplate_WithName
      parameters:
        - $ref: '#/components/parameters/cluster.get_component_template#name'
        - $ref: '#/components/parameters/cluster.get_component_template#master_timeout'
        - name: cluster_manager_timeout
          in: query
          description: Operation timeout for connection to cluster-manager node.
          schema:
            $ref: '../schemas/_common.yaml#/components/schemas/Duration'
          x-version-added: 2.0.0
        - $ref: '#/components/parameters/cluster.get_component_template#local'
      responses:
        '200':
          $ref: '#/components/responses/cluster.get_component_template#200'
      x-operation-group: cluster.get_component_template
      x-version-added: '1.0'
    head:
      description: Returns information about whether a particular component template exist.
      externalDocs:
        description: API Reference
        url: https://opensearch.org/docs/latest
      operationId: ClusterExistsComponentTemplate
      parameters:
        - in: path
          name: name
          description: |-
            Comma-separated list of component template names used to limit the request.
            Wildcard (*) expressions are supported.
          required: true
          deprecated: false
          schema:
            $ref: '../schemas/_common.yaml#/components/schemas/Names'
          style: simple
        - in: query
          name: master_timeout
          description: |-
            Period to wait for a connection to the master node. If no response is
            received before the timeout expires, the request fails and returns an
            error.
          deprecated: true
          schema:
            $ref: '../schemas/_common.yaml#/components/schemas/Duration'
          style: form
          x-version-deprecated: 2.0.0
          x-deprecation-message: To promote inclusive language, use 'cluster_manager_timeout' instead.
        - name: cluster_manager_timeout
          in: query
          description: Operation timeout for connection to cluster-manager node.
          schema:
            $ref: '../schemas/_common.yaml#/components/schemas/Duration'
          x-version-added: 2.0.0
        - in: query
          name: local
          description: |-
            If true, the request retrieves information from the local node only.
            Defaults to false, which means information is retrieved from the master node.
          deprecated: false
          schema:
            type: boolean
          style: form
      responses:
        '200':
          $ref: '#/components/responses/cluster.exists_component_template#200'
      x-operation-group: cluster.exists_component_template
      x-version-added: '1.0'
    post:
      description: Creates or updates a component template.
      operationId: ClusterPutComponentTemplate_Post
      requestBody:
        $ref: '#/components/requestBodies/cluster.put_component_template'
      parameters:
        - $ref: '#/components/parameters/cluster.put_component_template#name'
        - $ref: '#/components/parameters/cluster.put_component_template#create'
        - name: timeout
          in: query
          description: Operation timeout.
          schema:
            $ref: '../schemas/_common.yaml#/components/schemas/Duration'
        - $ref: '#/components/parameters/cluster.put_component_template#master_timeout'
        - name: cluster_manager_timeout
          in: query
          description: Operation timeout for connection to cluster-manager node.
          schema:
            $ref: '../schemas/_common.yaml#/components/schemas/Duration'
          x-version-added: 2.0.0
      responses:
        '200':
          $ref: '#/components/responses/cluster.put_component_template#200'
      x-operation-group: cluster.put_component_template
      x-version-added: '1.0'
    put:
      description: Creates or updates a component template.
      externalDocs:
        description: API Reference
        url: https://opensearch.org/docs/latest/im-plugin/index-templates/#use-component-templates-to-create-an-index-template
      operationId: ClusterPutComponentTemplate_Put
      requestBody:
        $ref: '#/components/requestBodies/cluster.put_component_template'
      parameters:
        - $ref: '#/components/parameters/cluster.put_component_template#name'
        - $ref: '#/components/parameters/cluster.put_component_template#create'
        - name: timeout
          in: query
          description: Operation timeout.
          schema:
            $ref: '../schemas/_common.yaml#/components/schemas/Duration'
        - $ref: '#/components/parameters/cluster.put_component_template#master_timeout'
        - name: cluster_manager_timeout
          in: query
          description: Operation timeout for connection to cluster-manager node.
          schema:
            $ref: '../schemas/_common.yaml#/components/schemas/Duration'
          x-version-added: 2.0.0
      responses:
        '200':
          $ref: '#/components/responses/cluster.put_component_template#200'
      x-operation-group: cluster.put_component_template
      x-version-added: '1.0'
  /_remote/info:
    get:
      description: Returns the information about configured remote clusters.
      externalDocs:
        description: API Reference
        url: https://opensearch.org/docs/latest/api-reference/remote-info/
      operationId: ClusterRemoteInfo
      responses:
        '200':
          $ref: '#/components/responses/cluster.remote_info#200'
      x-operation-group: cluster.remote_info
      x-version-added: '1.0'
      parameters: []
components:
  requestBodies:
    cluster.allocation_explain:
      content:
        application/json:
          schema:
            type: object
            properties:
              current_node:
                description: Specifies the node ID or the name of the node to only explain a shard that is currently located on the
                  specified node.
                type: string
              index:
                $ref: '../schemas/_common.yaml#/components/schemas/IndexName'
              primary:
                description: If true, returns explanation for the primary shard for the given shard ID.
                type: boolean
              shard:
                description: Specifies the ID of the shard that you would like an explanation for.
                type: number
            description: The index, shard, and primary flag to explain. Empty means 'explain the first unassigned shard'
    cluster.put_component_template:
      content:
        application/json:
          schema:
            type: object
            properties:
              allow_auto_create:
                description: |-
                  This setting overrides the value of the `action.auto_create_index` cluster setting.
                  If set to `true` in a template, then indices can be automatically created using that
                  template even if auto-creation of indices is disabled via `actions.auto_create_index`.
                  If set to `false` then data streams matching the template must always be explicitly created.
                type: boolean
              template:
                $ref: '../schemas/indices._common.yaml#/components/schemas/IndexState'
              version:
                $ref: '../schemas/_common.yaml#/components/schemas/VersionNumber'
              _meta:
                $ref: '../schemas/_common.yaml#/components/schemas/Metadata'
            required:
              - template
            description: The template definition
      required: true
    cluster.reroute:
      content:
        application/json:
          schema:
            type: object
            properties:
              commands:
                description: Defines the commands to perform.
                type: array
                items:
                  $ref: '../schemas/cluster.reroute.yaml#/components/schemas/Command'
            description: The definition of `commands` to perform (`move`, `cancel`, `allocate`)
    cluster.put_settings:
      content:
        application/json:
          schema:
            type: object
            properties:
              persistent:
                type: object
                additionalProperties:
                  type: object
              transient:
                type: object
                additionalProperties:
                  type: object
            description: The settings to be updated. Can be either `transient` or `persistent` (survives cluster restart).
      required: true
  responses:
    cluster.allocation_explain#200:
      description: ''
      content:
        application/json:
          schema:
            type: object
            properties:
              allocate_explanation:
                type: string
              allocation_delay:
                $ref: '../schemas/_common.yaml#/components/schemas/Duration'
              allocation_delay_in_millis:
                $ref: '../schemas/_common.yaml#/components/schemas/DurationValueUnitMillis'
              can_allocate:
                $ref: '../schemas/cluster.allocation_explain.yaml#/components/schemas/Decision'
              can_move_to_other_node:
                $ref: '../schemas/cluster.allocation_explain.yaml#/components/schemas/Decision'
              can_rebalance_cluster:
                $ref: '../schemas/cluster.allocation_explain.yaml#/components/schemas/Decision'
              can_rebalance_cluster_decisions:
                type: array
                items:
                  $ref: '../schemas/cluster.allocation_explain.yaml#/components/schemas/AllocationDecision'
              can_rebalance_to_other_node:
                $ref: '../schemas/cluster.allocation_explain.yaml#/components/schemas/Decision'
              can_remain_decisions:
                type: array
                items:
                  $ref: '../schemas/cluster.allocation_explain.yaml#/components/schemas/AllocationDecision'
              can_remain_on_current_node:
                $ref: '../schemas/cluster.allocation_explain.yaml#/components/schemas/Decision'
              cluster_info:
                $ref: '../schemas/cluster.allocation_explain.yaml#/components/schemas/ClusterInfo'
              configured_delay:
                $ref: '../schemas/_common.yaml#/components/schemas/Duration'
              configured_delay_in_millis:
                $ref: '../schemas/_common.yaml#/components/schemas/DurationValueUnitMillis'
              current_node:
                $ref: '../schemas/cluster.allocation_explain.yaml#/components/schemas/CurrentNode'
              current_state:
                type: string
              index:
                $ref: '../schemas/_common.yaml#/components/schemas/IndexName'
              move_explanation:
                type: string
              node_allocation_decisions:
                type: array
                items:
                  $ref: '../schemas/cluster.allocation_explain.yaml#/components/schemas/NodeAllocationExplanation'
              primary:
                type: boolean
              rebalance_explanation:
                type: string
              remaining_delay:
                $ref: '../schemas/_common.yaml#/components/schemas/Duration'
              remaining_delay_in_millis:
                $ref: '../schemas/_common.yaml#/components/schemas/DurationValueUnitMillis'
              shard:
                type: number
              unassigned_info:
                $ref: '../schemas/cluster.allocation_explain.yaml#/components/schemas/UnassignedInformation'
              note:
                type: string
            required:
              - current_state
              - index
              - primary
              - shard
    cluster.get_component_template#200:
      description: ''
      content:
        application/json:
          schema:
            type: object
            properties:
              component_templates:
                type: array
                items:
                  $ref: '../schemas/cluster._common.yaml#/components/schemas/ComponentTemplate'
            required:
              - component_templates
    cluster.health#200:
      description: ''
      content:
        application/json:
          schema:
            $ref: '../schemas/cluster.health.yaml#/components/schemas/HealthResponseBody'
    cluster.put_component_template#200:
      description: ''
      content:
        application/json:
          schema:
            $ref: '../schemas/_common.yaml#/components/schemas/AcknowledgedResponseBase'
    cluster.state#200:
      description: ''
      content:
        application/json:
          schema:
            type: object
    cluster.stats#200:
      description: ''
      content:
        application/json:
          schema:
            $ref: '../schemas/cluster.stats.yaml#/components/schemas/StatsResponseBase'
    cluster.pending_tasks#200:
      description: ''
      content:
        application/json:
          schema:
            type: object
            properties:
              tasks:
                type: array
                items:
                  $ref: '../schemas/cluster.pending_tasks.yaml#/components/schemas/PendingTask'
            required:
              - tasks
    cluster.reroute#200:
      description: ''
      content:
        application/json:
          schema:
            type: object
            properties:
              acknowledged:
                type: boolean
              explanations:
                type: array
                items:
                  $ref: '../schemas/cluster.reroute.yaml#/components/schemas/RerouteExplanation'
              state:
                description: |-
                  There aren't any guarantees on the output/structure of the raw cluster state.
                  Here you will find the internal representation of the cluster, which can
                  differ from the external representation.
                type: object
            required:
              - acknowledged
    cluster.get_settings#200:
      description: ''
      content:
        application/json:
          schema:
            type: object
            properties:
              persistent:
                type: object
                additionalProperties:
                  type: object
              transient:
                type: object
                additionalProperties:
                  type: object
              defaults:
                type: object
                additionalProperties:
                  type: object
            required:
              - persistent
              - transient
    cluster.put_settings#200:
      description: ''
      content:
        application/json:
          schema:
            type: object
            properties:
              acknowledged:
                type: boolean
              persistent:
                type: object
                additionalProperties:
                  type: object
              transient:
                type: object
                additionalProperties:
                  type: object
            required:
              - acknowledged
              - persistent
              - transient
    cluster.delete_voting_config_exclusions#200:
      description: ''
      content:
        application/json: {}
    cluster.post_voting_config_exclusions#200:
      description: ''
      content:
        application/json: {}
    cluster.delete_component_template#200:
      description: ''
      content:
        application/json:
          schema:
            $ref: '../schemas/_common.yaml#/components/schemas/AcknowledgedResponseBase'
    cluster.exists_component_template#200:
      description: ''
      content:
        application/json: {}
    cluster.remote_info#200:
      description: ''
      content:
        application/json:
          schema:
            type: object
            additionalProperties:
              $ref: '../schemas/cluster.remote_info.yaml#/components/schemas/ClusterRemoteInfo'
  parameters:
    cluster.allocation_explain#include_disk_info:
      in: query
      name: include_disk_info
      description: If true, returns information about disk usage and shard sizes.
      deprecated: false
      schema:
        type: boolean
      style: form
    cluster.allocation_explain#include_yes_decisions:
      in: query
      name: include_yes_decisions
      description: If true, returns YES decisions in explanation.
      deprecated: false
      schema:
        type: boolean
      style: form
    cluster.get_component_template#name:
      in: path
      name: name
      description: |-
        Comma-separated list of component template names used to limit the request.
        Wildcard (`*`) expressions are supported.
      required: true
      deprecated: false
      schema:
        $ref: '../schemas/_common.yaml#/components/schemas/Name'
      style: simple
    cluster.get_component_template#local:
      in: query
      name: local
      description: |-
        If `true`, the request retrieves information from the local node only.
        If `false`, information is retrieved from the master node.
      deprecated: false
      schema:
        type: boolean
      style: form
    cluster.get_component_template#master_timeout:
      in: query
      name: master_timeout
      description: |-
        Period to wait for a connection to the master node.
        If no response is received before the timeout expires, the request fails and returns an error.
      deprecated: true
      schema:
        $ref: '../schemas/_common.yaml#/components/schemas/Duration'
      style: form
      x-version-deprecated: 2.0.0
      x-deprecation-message: To promote inclusive language, use 'cluster_manager_timeout' instead.
    cluster.health#index:
      in: path
      name: index
      description: Comma-separated list of data streams, indices, and index aliases used to limit the request. Wildcard
        expressions (*) are supported. To target all data streams and indices in a cluster, omit this parameter or use
        _all or *.
      required: true
      deprecated: false
      schema:
        $ref: '../schemas/_common.yaml#/components/schemas/Indices'
      style: simple
    cluster.health#expand_wildcards:
      in: query
      name: expand_wildcards
      description: Whether to expand wildcard expression to concrete indices that are open, closed or both.
      deprecated: false
      schema:
        $ref: '../schemas/_common.yaml#/components/schemas/ExpandWildcards'
      style: form
    cluster.health#level:
      in: query
      name: level
      description: Can be one of cluster, indices or shards. Controls the details level of the health information returned.
      deprecated: false
      schema:
        $ref: '../schemas/_common.yaml#/components/schemas/Level'
      style: form
    cluster.health#local:
      in: query
      name: local
      description: If true, the request retrieves information from the local node only. Defaults to false, which means
        information is retrieved from the master node.
      deprecated: false
      schema:
        type: boolean
      style: form
    cluster.health#master_timeout:
      in: query
      name: master_timeout
      description: Period to wait for a connection to the master node. If no response is received before the timeout expires,
        the request fails and returns an error.
      deprecated: true
      schema:
        $ref: '../schemas/_common.yaml#/components/schemas/Duration'
      style: form
      x-version-deprecated: 2.0.0
      x-deprecation-message: To promote inclusive language, use 'cluster_manager_timeout' instead.
    cluster.health#timeout:
      in: query
      name: timeout
      description: Period to wait for a response. If no response is received before the timeout expires, the request fails and
        returns an error.
      deprecated: false
      schema:
        $ref: '../schemas/_common.yaml#/components/schemas/Duration'
      style: form
    cluster.health#wait_for_active_shards:
      in: query
      name: wait_for_active_shards
      description: A number controlling to how many active shards to wait for, all to wait for all shards in the cluster to be
        active, or 0 to not wait.
      deprecated: false
      schema:
        $ref: '../schemas/_common.yaml#/components/schemas/WaitForActiveShards'
      style: form
    cluster.health#wait_for_events:
      in: query
      name: wait_for_events
      description: Can be one of immediate, urgent, high, normal, low, languid. Wait until all currently queued events with
        the given priority are processed.
      deprecated: false
      schema:
        $ref: '../schemas/_common.yaml#/components/schemas/WaitForEvents'
      style: form
    cluster.health#wait_for_nodes:
      in: query
      name: wait_for_nodes
      description: The request waits until the specified number N of nodes is available. It also accepts >=N, <=N, >N and <N.
        Alternatively, it is possible to use ge(N), le(N), gt(N) and lt(N) notation.
      deprecated: false
      schema:
        oneOf:
          - type: string
          - type: number
      style: form
    cluster.health#wait_for_no_initializing_shards:
      in: query
      name: wait_for_no_initializing_shards
      description: A boolean value which controls whether to wait (until the timeout provided) for the cluster to have no
        shard initializations. Defaults to false, which means it will not wait for initializing shards.
      deprecated: false
      schema:
        type: boolean
      style: form
    cluster.health#wait_for_no_relocating_shards:
      in: query
      name: wait_for_no_relocating_shards
      description: A boolean value which controls whether to wait (until the timeout provided) for the cluster to have no
        shard relocations. Defaults to false, which means it will not wait for relocating shards.
      deprecated: false
      schema:
        type: boolean
      style: form
    cluster.health#wait_for_status:
      in: query
      name: wait_for_status
      description: One of green, yellow or red. Will wait (until the timeout provided) until the status of the cluster changes
        to the one provided or better, i.e. green > yellow > red. By default, will not wait for any status.
      deprecated: false
      schema:
        $ref: '../schemas/_common.yaml#/components/schemas/HealthStatus'
      style: form
    cluster.put_component_template#name:
      in: path
      name: name
      description: >-
        Name of the component template to create.

        Opensearch includes the following built-in component templates: `logs-mappings`; 'logs-settings`; `metrics-mappings`; `metrics-settings`;`synthetics-mapping`; `synthetics-settings`.

        Opensearch Agent uses these templates to configure backing indices for its data streams.

        If you use Opensearch Agent and want to overwrite one of these templates, set the `version` for your replacement template higher than the current version.

        If you dont use Opensearch Agent and want to disable all built-in component and index templates, set `stack.templates.enabled` to `false` using the cluster update settings API.
      required: true
      deprecated: false
      schema:
        $ref: '../schemas/_common.yaml#/components/schemas/Name'
      style: simple
    cluster.put_component_template#create:
      in: query
      name: create
      description: If `true`, this request cannot replace or update existing component templates.
      deprecated: false
      schema:
        type: boolean
      style: form
    cluster.put_component_template#master_timeout:
      in: query
      name: master_timeout
      description: |-
        Period to wait for a connection to the master node.
        If no response is received before the timeout expires, the request fails and returns an error.
      deprecated: true
      schema:
        $ref: '../schemas/_common.yaml#/components/schemas/Duration'
      style: form
      x-version-deprecated: 2.0.0
      x-deprecation-message: To promote inclusive language, use 'cluster_manager_timeout' instead.
    cluster.state#metric:
      in: path
      name: metric
      description: Limit the information returned to the specified metrics
      required: true
      deprecated: false
      schema:
        $ref: '../schemas/_common.yaml#/components/schemas/Metrics'
      style: simple
    cluster.state#index:
      in: path
      name: index
      description: A comma-separated list of index names; use `_all` or empty string to perform the operation on all indices
      required: true
      deprecated: false
      schema:
        $ref: '../schemas/_common.yaml#/components/schemas/Indices'
      style: simple
    cluster.state#allow_no_indices:
      in: query
      name: allow_no_indices
      description: Whether to ignore if a wildcard indices expression resolves into no concrete indices. (This includes `_all`
        string or when no indices have been specified)
      deprecated: false
      schema:
        type: boolean
      style: form
    cluster.state#expand_wildcards:
      in: query
      name: expand_wildcards
      description: Whether to expand wildcard expression to concrete indices that are open, closed or both.
      deprecated: false
      schema:
        $ref: '../schemas/_common.yaml#/components/schemas/ExpandWildcards'
      style: form
    cluster.state#flat_settings:
      in: query
      name: flat_settings
      description: 'Return settings in flat format (default: false)'
      deprecated: false
      schema:
        type: boolean
      style: form
    cluster.state#ignore_unavailable:
      in: query
      name: ignore_unavailable
      description: Whether specified concrete indices should be ignored when unavailable (missing or closed)
      deprecated: false
      schema:
        type: boolean
      style: form
    cluster.state#local:
      in: query
      name: local
      description: 'Return local information, do not retrieve the state from master node (default: false)'
      deprecated: false
      schema:
        type: boolean
      style: form
    cluster.state#master_timeout:
      in: query
      name: master_timeout
      description: Specify timeout for connection to master
      deprecated: true
      schema:
        $ref: '../schemas/_common.yaml#/components/schemas/Duration'
      style: form
      x-version-deprecated: 2.0.0
      x-deprecation-message: To promote inclusive language, use 'cluster_manager_timeout' instead.
    cluster.state#wait_for_metadata_version:
      in: query
      name: wait_for_metadata_version
      description: Wait for the metadata version to be equal or greater than the specified metadata version
      deprecated: false
      schema:
        $ref: '../schemas/_common.yaml#/components/schemas/VersionNumber'
      style: form
    cluster.state#wait_for_timeout:
      in: query
      name: wait_for_timeout
      description: The maximum time to wait for wait_for_metadata_version before timing out
      deprecated: false
      schema:
        $ref: '../schemas/_common.yaml#/components/schemas/Duration'
      style: form
    cluster.stats#node_id:
      in: path
      name: node_id
      description: Comma-separated list of node filters used to limit returned information. Defaults to all nodes in the cluster.
      required: true
      deprecated: false
      schema:
        $ref: '../schemas/_common.yaml#/components/schemas/NodeIds'
      style: simple
    cluster.stats#flat_settings:
      in: query
      name: flat_settings
      description: If `true`, returns settings in flat format.
      deprecated: false
      schema:
        type: boolean
      style: form
    cluster.stats#timeout:
      in: query
      name: timeout
      description: |-
        Period to wait for each node to respond.
        If a node does not respond before its timeout expires, the response does not include its stats.
        However, timed out nodes are included in the responses `_nodes.failed` property. Defaults to no timeout.
      deprecated: false
      schema:
        $ref: '../schemas/_common.yaml#/components/schemas/Duration'
      style: form
